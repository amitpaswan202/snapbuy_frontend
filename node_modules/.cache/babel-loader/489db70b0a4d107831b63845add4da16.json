{"ast":null,"code":"import React,{Fragment}from'react';import{Link}from'react-router-dom';import MetaData from'../layout/MetaData';// import { useAlert } from 'react-alert'\nimport{useDispatch,useSelector}from'react-redux';import{addItemToCart,removeItemFromCart}from'../../actions/cartActions';// import Footer from '../layout/Footer'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(_ref){var history=_ref.history;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.cart;}),cartItems=_useSelector.cartItems;var removeCartItemHandler=function removeCartItemHandler(id){dispatch(removeItemFromCart(id));};var increaseQty=function increaseQty(id,quantity,stock){var newQty=quantity+1;if(newQty>stock)return;dispatch(addItemToCart(id,newQty));};var decreaseQty=function decreaseQty(id,quantity){var newQty=quantity-1;if(newQty<=0)return;dispatch(addItemToCart(id,newQty));};var checkoutHandler=function checkoutHandler(){history.push('/login?redirect=shipping');};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Your Cart'}),cartItems.length===0?/*#__PURE__*/_jsx(\"h2\",{className:\"mt-5\",children:\"Your Cart is Empty\"}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mt-5\",children:[\"Your Cart: \",/*#__PURE__*/_jsxs(\"b\",{children:[cartItems.length,\" items\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-8\",children:cartItems.map(function(item){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Laptop\",height:\"90\",width:\"115\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{id:\"card_item_price\",children:[\"$\",item.price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stockCounter d-inline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-danger minus\",onClick:function onClick(){return decreaseQty(item.product,item.quantity);},children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control count d-inline\",value:item.quantity,readOnly:true}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary plus\",onClick:function onClick(){return decreaseQty(item.product,item.quantity,item.stock);},children:\"+\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-1 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsx(\"i\",{id:\"delete_cart_item\",className:\"fa fa-trash btn btn-danger\",onClick:function onClick(){return removeCartItemHandler(item.product);}})})]})},item.product),/*#__PURE__*/_jsx(\"hr\",{})]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-3 my-4\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"order_summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Order Summary\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Subtotal:  \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[cartItems.reduce(function(acc,item){return acc+Number(item.quantity);},0),\" (Units)\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Est. total: \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[\"$\",cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"checkout_btn\",className:\"btn btn-primary btn-block\",onClick:checkoutHandler,children:\"Check out\"})]})})]})]})]});};export default Cart;","map":{"version":3,"names":["React","Fragment","Link","MetaData","useDispatch","useSelector","addItemToCart","removeItemFromCart","jsx","_jsx","jsxs","_jsxs","Cart","_ref","history","dispatch","_useSelector","state","cart","cartItems","removeCartItemHandler","id","increaseQty","quantity","stock","newQty","decreaseQty","checkoutHandler","push","children","title","length","className","map","item","src","image","alt","height","width","to","concat","product","name","price","onClick","type","value","readOnly","reduce","acc","Number","toFixed"],"sources":["C:/Users/PC/Desktop/ffff/snapbuy/frontend/src/components/cart/Cart.js"],"sourcesContent":["import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\n// import { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addItemToCart, removeItemFromCart } from '../../actions/cartActions'\r\n// import Footer from '../layout/Footer'\r\n\r\nconst Cart = ({ history }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { cartItems } = useSelector(state => state.cart)\r\n\r\n    const removeCartItemHandler = (id) => {\r\n        dispatch(removeItemFromCart(id))\r\n    }\r\n\r\n    const increaseQty = (id, quantity, stock) => {\r\n        const newQty = quantity + 1;\r\n\r\n        if (newQty > stock) return;\r\n\r\n        dispatch(addItemToCart(id, newQty))\r\n    }\r\n\r\n    const decreaseQty = (id, quantity) => {\r\n\r\n        const newQty = quantity - 1;\r\n\r\n        if (newQty <= 0) return;\r\n\r\n        dispatch(addItemToCart(id, newQty))\r\n\r\n    }\r\n\r\n    const checkoutHandler = () => {\r\n        history.push('/login?redirect=shipping')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Your Cart'} />\r\n            {cartItems.length === 0 ? <h2 className=\"mt-5\">Your Cart is Empty</h2> : (\r\n                <Fragment>\r\n                    <h2 className=\"mt-5\">Your Cart: <b>{cartItems.length} items</b></h2>\r\n\r\n                    <div className=\"row d-flex justify-content-between\">\r\n                        <div className=\"col-12 col-lg-8\">\r\n\r\n                            {cartItems.map(item => (\r\n                                <Fragment>\r\n                                    <hr />\r\n\r\n                                    <div className=\"cart-item\" key={item.product}>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-4 col-lg-3\">\r\n                                                <img src={item.image} alt=\"Laptop\" height=\"90\" width=\"115\" />\r\n                                            </div>\r\n\r\n                                            <div className=\"col-5 col-lg-3\">\r\n                                                <Link to={`/products/${item.product}`}>{item.name}</Link>\r\n                                            </div>\r\n\r\n\r\n                                            <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                                                <p id=\"card_item_price\">${item.price}</p>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\r\n                                                <div className=\"stockCounter d-inline\">\r\n                                                    <span className=\"btn btn-danger minus\" onClick={() => decreaseQty(item.product, item.quantity)}>-</span>\r\n\r\n                                                    <input type=\"number\" className=\"form-control count d-inline\" value={item.quantity} readOnly />\r\n\r\n                                                    <span className=\"btn btn-primary plus\" onClick={() => decreaseQty(item.product, item.quantity, item.stock)}>+</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-4 col-lg-1 mt-4 mt-lg-0\">\r\n                                                <i id=\"delete_cart_item\" className=\"fa fa-trash btn btn-danger\" onClick={() => removeCartItemHandler(item.product)} ></i>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <hr />\r\n                                </Fragment>\r\n                            ))}\r\n\r\n                        </div>\r\n\r\n                        <div className=\"col-12 col-lg-3 my-4\">\r\n                            <div id=\"order_summary\">\r\n                                <h4>Order Summary</h4>\r\n                                <hr />\r\n                                <p>Subtotal:  <span className=\"order-summary-values\">{cartItems.reduce((acc, item) => (acc + Number(item.quantity)), 0)} (Units)</span></p>\r\n                                <p>Est. total: <span className=\"order-summary-values\">${cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0).toFixed(2)}</span></p>\r\n\r\n                                <hr />\r\n                                <button id=\"checkout_btn\" className=\"btn btn-primary btn-block\" onClick={checkoutHandler}>Check out</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n     \r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Cart"],"mappings":"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"},"metadata":{},"sourceType":"module"}