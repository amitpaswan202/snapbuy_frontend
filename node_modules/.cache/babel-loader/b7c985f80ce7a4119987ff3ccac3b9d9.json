{"ast":null,"code":"import _toConsumableArray from\"C:/Users/PC/Desktop/ffff/snapbuy/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/PC/Desktop/ffff/snapbuy/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{ADD_TO_CART,REMOVE_ITEM_CART,SAVE_SHIPPING_INFO,INCREAMENT_TO_QUANTITY,DECREAMENT_ITEM_QUANTITY,CLEAR_CART}from'../constants/cartConstants';export var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{cartItems:[],shippingInfo:{}};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_TO_CART:var item=action.payload;var isItemExist=state.cartItems.find(function(i){return i.product===item.product;});if(isItemExist){return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.map(function(i){return i.product===isItemExist.product?_objectSpread(_objectSpread({},item),{},{quantity:i.quantity+1}):i;})});}else{return _objectSpread(_objectSpread({},state),{},{cartItems:[].concat(_toConsumableArray(state.cartItems),[_objectSpread(_objectSpread({},item),{},{quantity:1})])});}case REMOVE_ITEM_CART:return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.filter(function(i){return i.product!==action.payload;})});case SAVE_SHIPPING_INFO:return _objectSpread(_objectSpread({},state),{},{shippingInfo:action.payload});case INCREAMENT_TO_QUANTITY:return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.map(function(i){return i.product===action.payload?_objectSpread(_objectSpread({},i),{},{quantity:i.quantity+1}):i;})});case DECREAMENT_ITEM_QUANTITY:return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.map(function(i){return i.product===action.payload?_objectSpread(_objectSpread({},i),{},{quantity:i.quantity-1}):i;})});case CLEAR_CART:// Add case for CLEAR_CART action type\nreturn _objectSpread(_objectSpread({},state),{},{cartItems:[]// Empty cartItems array\n});default:return state;}};","map":{"version":3,"names":["ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","INCREAMENT_TO_QUANTITY","DECREAMENT_ITEM_QUANTITY","CLEAR_CART","cartReducer","state","arguments","length","undefined","cartItems","shippingInfo","action","type","item","payload","isItemExist","find","i","product","_objectSpread","map","quantity","concat","_toConsumableArray","filter"],"sources":["C:/Users/PC/Desktop/ffff/snapbuy/frontend/src/reducers/cartReducers.js"],"sourcesContent":["import { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO, INCREAMENT_TO_QUANTITY, DECREAMENT_ITEM_QUANTITY ,CLEAR_CART} from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingInfo: {} }, action) => {\r\n    switch (action.type) {\r\n        case ADD_TO_CART:\r\n            const item = action.payload;\r\n\r\n            const isItemExist = state.cartItems.find(i => i.product === item.product);\r\n\r\n            if (isItemExist) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map(i =>\r\n                        i.product === isItemExist.product ? { ...item, quantity: i.quantity + 1 } : i\r\n                    )\r\n                };\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, { ...item, quantity: 1 }]\r\n                };\r\n            }\r\n\r\n        case REMOVE_ITEM_CART:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.filter(i => i.product !== action.payload)\r\n            };\r\n\r\n        case SAVE_SHIPPING_INFO:\r\n            return {\r\n                ...state,\r\n                shippingInfo: action.payload\r\n            };\r\n\r\n        case INCREAMENT_TO_QUANTITY:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.map(i =>\r\n                    i.product === action.payload ? { ...i, quantity: i.quantity + 1 } : i\r\n                )\r\n            };\r\n\r\n        case DECREAMENT_ITEM_QUANTITY:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.map(i =>\r\n                    i.product === action.payload ? { ...i, quantity: i.quantity - 1 } : i\r\n                )\r\n            };\r\n            case CLEAR_CART: // Add case for CLEAR_CART action type\r\n            return {\r\n                ...state,\r\n                cartItems: [] // Empty cartItems array\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n"],"mappings":"qQAAA,OAASA,WAAW,CAAEC,gBAAgB,CAAEC,kBAAkB,CAAEC,sBAAsB,CAAEC,wBAAwB,CAAEC,UAAU,KAAO,4BAA4B,CAE3J,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAA4D,IAAxD,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAEG,SAAS,CAAE,EAAE,CAAEC,YAAY,CAAE,CAAC,CAAE,CAAC,IAAE,CAAAC,MAAM,CAAAL,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC3E,OAAQG,MAAM,CAACC,IAAI,EACf,IAAK,CAAAd,WAAW,CACZ,GAAM,CAAAe,IAAI,CAAGF,MAAM,CAACG,OAAO,CAE3B,GAAM,CAAAC,WAAW,CAAGV,KAAK,CAACI,SAAS,CAACO,IAAI,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACC,OAAO,GAAKL,IAAI,CAACK,OAAO,GAAC,CAEzE,GAAIH,WAAW,CAAE,CACb,OAAAI,aAAA,CAAAA,aAAA,IACOd,KAAK,MACRI,SAAS,CAAEJ,KAAK,CAACI,SAAS,CAACW,GAAG,CAAC,SAAAH,CAAC,QAC5B,CAAAA,CAAC,CAACC,OAAO,GAAKH,WAAW,CAACG,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAQN,IAAI,MAAEQ,QAAQ,CAAEJ,CAAC,CAACI,QAAQ,CAAG,CAAC,GAAKJ,CAAC,GAChF,GAET,CAAC,IAAM,CACH,OAAAE,aAAA,CAAAA,aAAA,IACOd,KAAK,MACRI,SAAS,IAAAa,MAAA,CAAAC,kBAAA,CAAMlB,KAAK,CAACI,SAAS,GAAAU,aAAA,CAAAA,aAAA,IAAON,IAAI,MAAEQ,QAAQ,CAAE,CAAC,IAAG,GAEjE,CAEJ,IAAK,CAAAtB,gBAAgB,CACjB,OAAAoB,aAAA,CAAAA,aAAA,IACOd,KAAK,MACRI,SAAS,CAAEJ,KAAK,CAACI,SAAS,CAACe,MAAM,CAAC,SAAAP,CAAC,QAAI,CAAAA,CAAC,CAACC,OAAO,GAAKP,MAAM,CAACG,OAAO,GAAC,GAG5E,IAAK,CAAAd,kBAAkB,CACnB,OAAAmB,aAAA,CAAAA,aAAA,IACOd,KAAK,MACRK,YAAY,CAAEC,MAAM,CAACG,OAAO,GAGpC,IAAK,CAAAb,sBAAsB,CACvB,OAAAkB,aAAA,CAAAA,aAAA,IACOd,KAAK,MACRI,SAAS,CAAEJ,KAAK,CAACI,SAAS,CAACW,GAAG,CAAC,SAAAH,CAAC,QAC5B,CAAAA,CAAC,CAACC,OAAO,GAAKP,MAAM,CAACG,OAAO,CAAAK,aAAA,CAAAA,aAAA,IAAQF,CAAC,MAAEI,QAAQ,CAAEJ,CAAC,CAACI,QAAQ,CAAG,CAAC,GAAKJ,CAAC,GACxE,GAGT,IAAK,CAAAf,wBAAwB,CACzB,OAAAiB,aAAA,CAAAA,aAAA,IACOd,KAAK,MACRI,SAAS,CAAEJ,KAAK,CAACI,SAAS,CAACW,GAAG,CAAC,SAAAH,CAAC,QAC5B,CAAAA,CAAC,CAACC,OAAO,GAAKP,MAAM,CAACG,OAAO,CAAAK,aAAA,CAAAA,aAAA,IAAQF,CAAC,MAAEI,QAAQ,CAAEJ,CAAC,CAACI,QAAQ,CAAG,CAAC,GAAKJ,CAAC,GACxE,GAEL,IAAK,CAAAd,UAAU,CAAE;AACjB,OAAAgB,aAAA,CAAAA,aAAA,IACOd,KAAK,MACRI,SAAS,CAAE,EAAG;AAAA,GAGtB,QACI,MAAO,CAAAJ,KAAK,CAAC,CAEzB,CAAC"},"metadata":{},"sourceType":"module"}