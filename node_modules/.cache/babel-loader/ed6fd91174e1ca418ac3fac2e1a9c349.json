{"ast":null,"code":"import React,{Fragment}from'react';import{Route,Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{useAlert}from'react-alert';import{logout}from'../../actions/userActions';import Search from'./Search';import'../../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(){var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,loading=_useSelector.loading;var _useSelector2=useSelector(function(state){return state.cart;}),cartItems=_useSelector2.cartItems;var logoutHandler=function logoutHandler(){dispatch(logout());alert.success('Logged out successfully.');};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar-brand\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/snapbuy.png\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 mt-2 mt-md-0\",children:/*#__PURE__*/_jsx(Route,{render:function render(_ref){var history=_ref.history;return/*#__PURE__*/_jsx(Search,{history:history});}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-3 mt-4 mt-md-0 text-center\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/cart\",style:{textDecoration:'none'},children:[/*#__PURE__*/_jsx(\"span\",{id:\"cart\",className:\"ml-3\",children:\"Cart\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",id:\"cart_count\",children:cartItems.length})]}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 dropdown d-inline\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#!\",className:\"btn dropdown-toggle text-white mr-4\",type:\"button\",id:\"dropDownMenuButton\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"avatar avatar-nav\",children:/*#__PURE__*/_jsx(\"img\",{src:user.avatar&&user.avatar.url,alt:user&&user.name,className:\"rounded-circle\"})}),/*#__PURE__*/_jsx(\"span\",{children:user&&user.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropDownMenuButton\",children:[user&&user.role==='admin'&&/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/dashboard\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/orders/me\",children:\"Orders\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/me\",children:\"Profile\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item text-danger\",to:\"/\",onClick:logoutHandler,children:\"Logout\"})]})]}):!loading&&/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn ml-4\",id:\"login_btn\",children:\"Login\"})]})]})});};export default Header;","map":{"version":3,"names":["React","Fragment","Route","Link","useDispatch","useSelector","useAlert","logout","Search","jsx","_jsx","jsxs","_jsxs","Header","alert","dispatch","_useSelector","state","auth","user","loading","_useSelector2","cart","cartItems","logoutHandler","success","children","className","to","src","render","_ref","history","style","textDecoration","id","length","type","avatar","url","alt","name","role","onClick"],"sources":["C:/Users/PC/Desktop/ffff/snapbuy/frontend/src/components/layout/Header.js"],"sourcesContent":["import React, { Fragment } from 'react'\r\nimport { Route, Link } from 'react-router-dom'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useAlert } from 'react-alert'\r\nimport { logout } from '../../actions/userActions'\r\n\r\nimport Search from './Search'\r\n\r\nimport '../../App.css'\r\n\r\nconst Header = () => {\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { user, loading } = useSelector(state => state.auth)\r\n    const { cartItems } = useSelector(state => state.cart)\r\n\r\n    const logoutHandler = () => {\r\n        dispatch(logout());\r\n        alert.success('Logged out successfully.')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <nav className=\"navbar row\">\r\n                <div className=\"col-12 col-md-3\">\r\n                    <div className=\"navbar-brand\">\r\n                        <Link to=\"/\">\r\n                            <img src=\"/images/snapbuy.png\" />\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-6 mt-2 mt-md-0\">\r\n                    <Route render={({ history }) => <Search history={history} />} />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-3 mt-4 mt-md-0 text-center\">\r\n                    <Link to=\"/cart\" style={{ textDecoration: 'none' }} >\r\n                        <span id=\"cart\" className=\"ml-3\">Cart</span>\r\n                        <span className=\"ml-1\" id=\"cart_count\">{cartItems.length}</span>\r\n                    </Link>\r\n\r\n                    {user ? (\r\n                        <div className=\"ml-4 dropdown d-inline\">\r\n                            <Link to=\"#!\" className=\"btn dropdown-toggle text-white mr-4\" type=\"button\" id=\"dropDownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\r\n                                <figure className=\"avatar avatar-nav\">\r\n                                    <img\r\n                                        src={user.avatar && user.avatar.url}\r\n                                        alt={user && user.name}\r\n                                        className=\"rounded-circle\"\r\n                                    />\r\n                                </figure>\r\n                                <span>{user && user.name}</span>\r\n                            </Link>\r\n\r\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropDownMenuButton\">\r\n\r\n                                {user && user.role === 'admin' && (\r\n                                    <Link className=\"dropdown-item\" to=\"/dashboard\">Dashboard</Link>\r\n                                )}\r\n                                <Link className=\"dropdown-item\" to=\"/orders/me\">Orders</Link>\r\n                                <Link className=\"dropdown-item\" to=\"/me\">Profile</Link>\r\n                                <Link className=\"dropdown-item text-danger\" to=\"/\" onClick={logoutHandler}>\r\n                                    Logout\r\n                                </Link>\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    ) : !loading && <Link to=\"/login\" className=\"btn ml-4\" id=\"login_btn\">Login</Link>}\r\n\r\n\r\n                </div>\r\n            </nav>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Header\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}