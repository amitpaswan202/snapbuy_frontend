{"ast":null,"code":"import { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO, INCREAMENT_TO_QUANTITY, DECREAMENT_ITEM_QUANTITY, CLEAR_CART } from '../constants/cartConstants';\nexport const cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cartItems: [],\n    shippingInfo: {}\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_TO_CART:\n      const item = action.payload;\n      const isItemExist = state.cartItems.find(i => i.product === item.product);\n      if (isItemExist) {\n        return {\n          ...state,\n          cartItems: state.cartItems.map(i => i.product === isItemExist.product ? {\n            ...item,\n            quantity: i.quantity + 1\n          } : i)\n        };\n      } else {\n        return {\n          ...state,\n          cartItems: [...state.cartItems, {\n            ...item,\n            quantity: 1\n          }]\n        };\n      }\n    case REMOVE_ITEM_CART:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(i => i.product !== action.payload)\n      };\n    case SAVE_SHIPPING_INFO:\n      return {\n        ...state,\n        shippingInfo: action.payload\n      };\n    case INCREAMENT_TO_QUANTITY:\n      return {\n        ...state,\n        cartItems: state.cartItems.map(i => i.product === action.payload ? {\n          ...i,\n          quantity: i.quantity + 1\n        } : i)\n      };\n    case DECREAMENT_ITEM_QUANTITY:\n      return {\n        ...state,\n        cartItems: state.cartItems.map(i => i.product === action.payload ? {\n          ...i,\n          quantity: i.quantity - 1\n        } : i)\n      };\n    case CLEAR_CART:\n      // Add case for CLEAR_CART action type\n      return {\n        ...state,\n        cartItems: [] // Empty cartItems array\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","INCREAMENT_TO_QUANTITY","DECREAMENT_ITEM_QUANTITY","CLEAR_CART","cartReducer","state","arguments","length","undefined","cartItems","shippingInfo","action","type","item","payload","isItemExist","find","i","product","map","quantity","filter"],"sources":["C:/Users/PC/Desktop/ffff/snapbuy/frontend/src/reducers/cartReducers.js"],"sourcesContent":["import { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO, INCREAMENT_TO_QUANTITY, DECREAMENT_ITEM_QUANTITY ,CLEAR_CART} from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingInfo: {} }, action) => {\r\n    switch (action.type) {\r\n        case ADD_TO_CART:\r\n            const item = action.payload;\r\n\r\n            const isItemExist = state.cartItems.find(i => i.product === item.product);\r\n\r\n            if (isItemExist) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map(i =>\r\n                        i.product === isItemExist.product ? { ...item, quantity: i.quantity + 1 } : i\r\n                    )\r\n                };\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, { ...item, quantity: 1 }]\r\n                };\r\n            }\r\n\r\n        case REMOVE_ITEM_CART:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.filter(i => i.product !== action.payload)\r\n            };\r\n\r\n        case SAVE_SHIPPING_INFO:\r\n            return {\r\n                ...state,\r\n                shippingInfo: action.payload\r\n            };\r\n\r\n        case INCREAMENT_TO_QUANTITY:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.map(i =>\r\n                    i.product === action.payload ? { ...i, quantity: i.quantity + 1 } : i\r\n                )\r\n            };\r\n\r\n        case DECREAMENT_ITEM_QUANTITY:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.map(i =>\r\n                    i.product === action.payload ? { ...i, quantity: i.quantity - 1 } : i\r\n                )\r\n            };\r\n            case CLEAR_CART: // Add case for CLEAR_CART action type\r\n            return {\r\n                ...state,\r\n                cartItems: [] // Empty cartItems array\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,EAAEC,kBAAkB,EAAEC,sBAAsB,EAAEC,wBAAwB,EAAEC,UAAU,QAAO,4BAA4B;AAE3J,OAAO,MAAMC,WAAW,GAAG,SAAAA,CAAA,EAAyD;EAAA,IAAxDC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;IAAEG,SAAS,EAAE,EAAE;IAAEC,YAAY,EAAE,CAAC;EAAE,CAAC;EAAA,IAAEC,MAAM,GAAAL,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC3E,QAAQG,MAAM,CAACC,IAAI;IACf,KAAKd,WAAW;MACZ,MAAMe,IAAI,GAAGF,MAAM,CAACG,OAAO;MAE3B,MAAMC,WAAW,GAAGV,KAAK,CAACI,SAAS,CAACO,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,KAAKL,IAAI,CAACK,OAAO,CAAC;MAEzE,IAAIH,WAAW,EAAE;QACb,OAAO;UACH,GAAGV,KAAK;UACRI,SAAS,EAAEJ,KAAK,CAACI,SAAS,CAACU,GAAG,CAACF,CAAC,IAC5BA,CAAC,CAACC,OAAO,KAAKH,WAAW,CAACG,OAAO,GAAG;YAAE,GAAGL,IAAI;YAAEO,QAAQ,EAAEH,CAAC,CAACG,QAAQ,GAAG;UAAE,CAAC,GAAGH,CAAC;QAErF,CAAC;MACL,CAAC,MAAM;QACH,OAAO;UACH,GAAGZ,KAAK;UACRI,SAAS,EAAE,CAAC,GAAGJ,KAAK,CAACI,SAAS,EAAE;YAAE,GAAGI,IAAI;YAAEO,QAAQ,EAAE;UAAE,CAAC;QAC5D,CAAC;MACL;IAEJ,KAAKrB,gBAAgB;MACjB,OAAO;QACH,GAAGM,KAAK;QACRI,SAAS,EAAEJ,KAAK,CAACI,SAAS,CAACY,MAAM,CAACJ,CAAC,IAAIA,CAAC,CAACC,OAAO,KAAKP,MAAM,CAACG,OAAO;MACvE,CAAC;IAEL,KAAKd,kBAAkB;MACnB,OAAO;QACH,GAAGK,KAAK;QACRK,YAAY,EAAEC,MAAM,CAACG;MACzB,CAAC;IAEL,KAAKb,sBAAsB;MACvB,OAAO;QACH,GAAGI,KAAK;QACRI,SAAS,EAAEJ,KAAK,CAACI,SAAS,CAACU,GAAG,CAACF,CAAC,IAC5BA,CAAC,CAACC,OAAO,KAAKP,MAAM,CAACG,OAAO,GAAG;UAAE,GAAGG,CAAC;UAAEG,QAAQ,EAAEH,CAAC,CAACG,QAAQ,GAAG;QAAE,CAAC,GAAGH,CAAC;MAE7E,CAAC;IAEL,KAAKf,wBAAwB;MACzB,OAAO;QACH,GAAGG,KAAK;QACRI,SAAS,EAAEJ,KAAK,CAACI,SAAS,CAACU,GAAG,CAACF,CAAC,IAC5BA,CAAC,CAACC,OAAO,KAAKP,MAAM,CAACG,OAAO,GAAG;UAAE,GAAGG,CAAC;UAAEG,QAAQ,EAAEH,CAAC,CAACG,QAAQ,GAAG;QAAE,CAAC,GAAGH,CAAC;MAE7E,CAAC;IACD,KAAKd,UAAU;MAAE;MACjB,OAAO;QACH,GAAGE,KAAK;QACRI,SAAS,EAAE,EAAE,CAAC;MAClB,CAAC;;IAEL;MACI,OAAOJ,KAAK;EAAC;AAEzB,CAAC"},"metadata":{},"sourceType":"module"}