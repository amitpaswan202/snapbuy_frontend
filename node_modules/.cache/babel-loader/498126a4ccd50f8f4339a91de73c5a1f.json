{"ast":null,"code":"import _slicedToArray from\"C:/Users/PC/Desktop/ffff/snapbuy/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState,useEffect}from'react';import MetaData from'../layout/MetaData';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{resetPassword,clearErrors}from'../../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewPassword=function NewPassword(_ref){var history=_ref.history,match=_ref.match;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),confirmPassword=_useState4[0],setConfirmPassword=_useState4[1];var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.forgotPassword;}),error=_useSelector.error,success=_useSelector.success;useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}if(success){alert.success('Password updated successfully');history.push('/login');}},[dispatch,alert,error,success,history]);var submitHandler=function submitHandler(e){e.preventDefault();var formData=new FormData();formData.set('password',password);formData.set('confirmPassword',confirmPassword);dispatch(resetPassword(match.params.token,formData));};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'New Password Reset'}),/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3\",children:\"New Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password_field\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password_field\",className:\"form-control\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirm_password_field\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirm_password_field\",className:\"form-control\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{id:\"new_password_button\",type:\"submit\",className:\"btn btn-block py-3\",children:\"Set Password\"})]})})})]});};export default NewPassword;","map":{"version":3,"names":["React","Fragment","useState","useEffect","MetaData","useAlert","useDispatch","useSelector","resetPassword","clearErrors","jsx","_jsx","jsxs","_jsxs","NewPassword","_ref","history","match","_useState","_useState2","_slicedToArray","password","setPassword","_useState3","_useState4","confirmPassword","setConfirmPassword","alert","dispatch","_useSelector","state","forgotPassword","error","success","push","submitHandler","e","preventDefault","formData","FormData","set","params","token","children","title","className","onSubmit","htmlFor","type","id","value","onChange","target"],"sources":["C:/Users/PC/Desktop/ffff/snapbuy/frontend/src/components/user/NewPassword.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { resetPassword, clearErrors } from '../../actions/userActions'\r\n\r\nconst NewPassword = ({ history, match }) => {\r\n\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, success } = useSelector(state => state.forgotPassword)\r\n\r\n    useEffect(() => {\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (success) {\r\n            alert.success('Password updated successfully')\r\n            history.push('/login')\r\n        }\r\n\r\n    }, [dispatch, alert, error, success, history])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('password', password);\r\n        formData.set('confirmPassword', confirmPassword);\r\n\r\n        dispatch(resetPassword(match.params.token, formData))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'New Password Reset'} />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                        <h1 className=\"mb-3\">New Password</h1>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password_field\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"password_field\"\r\n                                className=\"form-control\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"confirm_password_field\">Confirm Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"confirm_password_field\"\r\n                                className=\"form-control\"\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <button\r\n                            id=\"new_password_button\"\r\n                            type=\"submit\"\r\n                            className=\"btn btn-block py-3\">\r\n                            Set Password\r\n                        </button>\r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default NewPassword\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}