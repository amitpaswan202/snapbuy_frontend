{"ast":null,"code":"import _toConsumableArray from\"C:/Users/PC/Desktop/ffff/snapbuy/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/PC/Desktop/ffff/snapbuy/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/PC/Desktop/ffff/snapbuy/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{ADD_TO_CART,REMOVE_ITEM_CART,SAVE_SHIPPING_INFO,INCREAMENT_TO_QUANTITY,DECREAMENT_ITEM_QUANTITY,CLEAR_CART}from'../constants/cartConstants';export var addItemToCart=function addItemToCart(id,quantity){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/v1/product/\".concat(id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:ADD_TO_CART,payload:{product:data.product._id,name:data.product.name,price:data.product.price,image:data.product.images[0].url,stock:data.product.stock,quantity:quantity}});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));case 6:case\"end\":return _context.stop();}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var removeItemFromCart=function removeItemFromCart(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch,getState){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch({type:REMOVE_ITEM_CART,payload:id});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));case 2:case\"end\":return _context2.stop();}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var saveShippingInfo=function saveShippingInfo(data){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:dispatch({type:SAVE_SHIPPING_INFO,payload:data});localStorage.setItem('shippingInfo',JSON.stringify(data));case 2:case\"end\":return _context3.stop();}},_callee3);}));return function(_x5){return _ref3.apply(this,arguments);};}();};export var incrementItemQuantity=function incrementItemQuantity(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch,getState){var cartItems,itemIndex,updatedCartItems;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:cartItems=getState().cart.cartItems;itemIndex=cartItems.findIndex(function(item){return item.product===id;});if(itemIndex!==-1){updatedCartItems=_toConsumableArray(cartItems);updatedCartItems[itemIndex].quantity+=1;dispatch({type:INCREAMENT_TO_QUANTITY,payload:updatedCartItems});localStorage.setItem('cartItems',JSON.stringify(updatedCartItems));}case 3:case\"end\":return _context4.stop();}},_callee4);}));return function(_x6,_x7){return _ref4.apply(this,arguments);};}();};export var decrementItemQuantity=function decrementItemQuantity(id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch,getState){var cartItems,itemIndex,updatedCartItems;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:cartItems=getState().cart.cartItems;itemIndex=cartItems.findIndex(function(item){return item.product===id;});if(itemIndex!==-1){updatedCartItems=_toConsumableArray(cartItems);updatedCartItems[itemIndex].quantity-=1;dispatch({type:DECREAMENT_ITEM_QUANTITY,payload:updatedCartItems});localStorage.setItem('cartItems',JSON.stringify(updatedCartItems));}case 3:case\"end\":return _context5.stop();}},_callee5);}));return function(_x8,_x9){return _ref5.apply(this,arguments);};}();};export var clearCart=function clearCart(){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dispatch){return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:dispatch({type:CLEAR_CART});localStorage.removeItem('cartItems');// Remove cartItems from localStorage\ncase 2:case\"end\":return _context6.stop();}},_callee6);}));return function(_x10){return _ref6.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","INCREAMENT_TO_QUANTITY","DECREAMENT_ITEM_QUANTITY","CLEAR_CART","addItemToCart","id","quantity","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","getState","_yield$axios$get","data","wrap","_callee$","_context","prev","next","get","concat","sent","type","payload","product","_id","name","price","image","images","url","stock","localStorage","setItem","JSON","stringify","cart","cartItems","stop","_x","_x2","apply","arguments","removeItemFromCart","_ref2","_callee2","_callee2$","_context2","_x3","_x4","saveShippingInfo","_ref3","_callee3","_callee3$","_context3","_x5","incrementItemQuantity","_ref4","_callee4","itemIndex","updatedCartItems","_callee4$","_context4","findIndex","item","_toConsumableArray","_x6","_x7","decrementItemQuantity","_ref5","_callee5","_callee5$","_context5","_x8","_x9","clearCart","_ref6","_callee6","_callee6$","_context6","removeItem","_x10"],"sources":["C:/Users/PC/Desktop/ffff/snapbuy/frontend/src/actions/cartActions.js"],"sourcesContent":["import axios from 'axios';\r\nimport { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO, INCREAMENT_TO_QUANTITY, DECREAMENT_ITEM_QUANTITY,CLEAR_CART } from '../constants/cartConstants';\r\n\r\nexport const addItemToCart = (id, quantity) => async (dispatch, getState) => {\r\n    const { data } = await axios.get(`/api/v1/product/${id}`);\r\n\r\n    dispatch({\r\n        type: ADD_TO_CART,\r\n        payload: {\r\n            product: data.product._id,\r\n            name: data.product.name,\r\n            price: data.product.price,\r\n            image: data.product.images[0].url,\r\n            stock: data.product.stock,\r\n            quantity,\r\n        },\r\n    });\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeItemFromCart = (id) => async (dispatch, getState) => {\r\n    dispatch({\r\n        type: REMOVE_ITEM_CART,\r\n        payload: id,\r\n    });\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingInfo = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: SAVE_SHIPPING_INFO,\r\n        payload: data,\r\n    });\r\n\r\n    localStorage.setItem('shippingInfo', JSON.stringify(data));\r\n};\r\n\r\nexport const incrementItemQuantity = (id) => async (dispatch, getState) => {\r\n    const { cartItems } = getState().cart;\r\n    const itemIndex = cartItems.findIndex((item) => item.product === id);\r\n\r\n    if (itemIndex !== -1) {\r\n        const updatedCartItems = [...cartItems];\r\n        updatedCartItems[itemIndex].quantity += 1;\r\n\r\n        dispatch({\r\n            type: INCREAMENT_TO_QUANTITY,\r\n            payload: updatedCartItems,\r\n        });\r\n\r\n        localStorage.setItem('cartItems', JSON.stringify(updatedCartItems));\r\n    }\r\n};\r\n\r\nexport const decrementItemQuantity = (id) => async (dispatch, getState) => {\r\n    const { cartItems } = getState().cart;\r\n    const itemIndex = cartItems.findIndex((item) => item.product === id);\r\n\r\n    if (itemIndex !== -1) {\r\n        const updatedCartItems = [...cartItems];\r\n        updatedCartItems[itemIndex].quantity -= 1;\r\n\r\n        dispatch({\r\n            type: DECREAMENT_ITEM_QUANTITY,\r\n            payload: updatedCartItems,\r\n        });\r\n\r\n        localStorage.setItem('cartItems', JSON.stringify(updatedCartItems));\r\n    }\r\n};\r\nexport const clearCart = () => async (dispatch) => {\r\n    dispatch({\r\n        type: CLEAR_CART\r\n    });\r\n\r\n    localStorage.removeItem('cartItems'); // Remove cartItems from localStorage\r\n};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}