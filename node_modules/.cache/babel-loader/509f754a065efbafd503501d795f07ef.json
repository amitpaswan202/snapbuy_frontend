{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import MetaData from'../layout/MetaData';import Loader from'../layout/Loader';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{getOrderDetails,clearErrors}from'../../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderDetails=function OrderDetails(_ref){var match=_ref.match;var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.orderDetails;}),loading=_useSelector.loading,error=_useSelector.error,_useSelector$order=_useSelector.order,order=_useSelector$order===void 0?{}:_useSelector$order;var shippingInfo=order.shippingInfo,orderItems=order.orderItems,paymentInfo=order.paymentInfo,user=order.user,totalPrice=order.totalPrice,orderStatus=order.orderStatus;useEffect(function(){dispatch(getOrderDetails(match.params.id));if(error){alert.error(error);dispatch(clearErrors());}},[dispatch,alert,error,match.params.id]);var shippingDetails=shippingInfo&&\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\", \").concat(shippingInfo.postalCode,\", \").concat(shippingInfo.country);var isPaid=paymentInfo&&paymentInfo.status==='succeeded'?true:false;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Order Details'}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-8 mt-5 order-details\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"my-5\",children:[\"Order # \",order._id]}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Name:\"}),\" \",user&&user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Phone:\"}),\" \",shippingInfo&&shippingInfo.phoneNo]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Address:\"}),shippingDetails]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Amount:\"}),\" \",/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-inr\"}),\" \",totalPrice]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Payment\"}),/*#__PURE__*/_jsx(\"p\",{className:isPaid?\"greenColor\":\"redColor\",children:/*#__PURE__*/_jsx(\"b\",{children:isPaid?\"PAID\":\"NOT PAID\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Order Status:\"}),/*#__PURE__*/_jsx(\"p\",{className:order.orderStatus&&String(order.orderStatus).includes('Delivered')?\"greenColor\":\"redColor\",children:/*#__PURE__*/_jsx(\"b\",{children:orderStatus})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Order Items:\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item my-1\",children:orderItems&&orderItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"row my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,height:\"45\",width:\"65\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-inr\"}),\" \",item.price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.quantity,\" Piece(s)\"]})})]},item.product);})}),/*#__PURE__*/_jsx(\"hr\",{})]})})})]});};export default OrderDetails;","map":{"version":3,"names":["React","Fragment","useEffect","Link","MetaData","Loader","useAlert","useDispatch","useSelector","getOrderDetails","clearErrors","jsx","_jsx","jsxs","_jsxs","OrderDetails","_ref","match","alert","dispatch","_useSelector","state","orderDetails","loading","error","_useSelector$order","order","shippingInfo","orderItems","paymentInfo","user","totalPrice","orderStatus","params","id","shippingDetails","concat","address","city","postalCode","country","isPaid","status","children","title","className","_id","name","phoneNo","class","String","includes","map","item","src","image","alt","height","width","to","product","price","quantity"],"sources":["C:/Users/PC/Desktop/ffff/snapbuy/frontend/src/components/order/OrderDetails.js"],"sourcesContent":["import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getOrderDetails, clearErrors } from '../../actions/orderActions'\r\n\r\nconst OrderDetails = ({ match }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, order = {} } = useSelector(state => state.orderDetails)\r\n    const { shippingInfo, orderItems, paymentInfo, user, totalPrice, orderStatus } = order\r\n\r\n    useEffect(() => {\r\n        dispatch(getOrderDetails(match.params.id));\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n    }, [dispatch, alert, error, match.params.id])\r\n\r\n    const shippingDetails = shippingInfo && `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`\r\n\r\n    const isPaid = paymentInfo && paymentInfo.status === 'succeeded' ? true : false\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Order Details'} />\r\n\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <div className=\"row d-flex justify-content-between\">\r\n                        <div className=\"col-12 col-lg-8 mt-5 order-details\">\r\n\r\n                            <h1 className=\"my-5\">Order # {order._id}</h1>\r\n\r\n                            <h4 className=\"mb-4\">Shipping Info</h4>\r\n                            <p><b>Name:</b> {user && user.name}</p>\r\n                            <p><b>Phone:</b> {shippingInfo && shippingInfo.phoneNo}</p>\r\n                            <p className=\"mb-4\"><b>Address:</b>{shippingDetails}</p>\r\n                            <p><b>Amount:</b> <i class=\"fa fa-inr\"></i> {totalPrice}</p>\r\n\r\n                            <hr />\r\n\r\n                            <h4 className=\"my-4\">Payment</h4>\r\n                            <p className={isPaid ? \"greenColor\" : \"redColor\"}><b>{isPaid ? \"PAID\" : \"NOT PAID\"}</b></p>\r\n\r\n\r\n                            <h4 className=\"my-4\">Order Status:</h4>\r\n                            <p className={order.orderStatus && String(order.orderStatus).includes('Delivered') ? \"greenColor\" : \"redColor\"} ><b>{orderStatus}</b></p>\r\n\r\n\r\n                            <h4 className=\"my-4\">Order Items:</h4>\r\n\r\n                            <hr />\r\n                            <div className=\"cart-item my-1\">\r\n                                {orderItems && orderItems.map(item => (\r\n                                    <div key={item.product} className=\"row my-5\">\r\n                                        <div className=\"col-4 col-lg-2\">\r\n                                            <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\r\n                                        </div>\r\n\r\n                                        <div className=\"col-5 col-lg-5\">\r\n                                            <Link to={`/products/${item.product}`}>{item.name}</Link>\r\n                                        </div>\r\n\r\n\r\n                                        <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                                            <p><i class=\"fa fa-inr\"></i> {item.price}</p>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\r\n                                            <p>{item.quantity} Piece(s)</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <hr />\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAEvC,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CACzC,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CAErC,OAASC,QAAQ,KAAQ,aAAa,CACtC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,eAAe,CAAEC,WAAW,KAAQ,4BAA4B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzE,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAkB,IAAZ,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAEzB,GAAM,CAAAC,KAAK,CAAGZ,QAAQ,EAAE,CACxB,GAAM,CAAAa,QAAQ,CAAGZ,WAAW,EAAE,CAE9B,IAAAa,YAAA,CAAuCZ,WAAW,CAAC,SAAAa,KAAK,QAAI,CAAAA,KAAK,CAACC,YAAY,GAAC,CAAvEC,OAAO,CAAAH,YAAA,CAAPG,OAAO,CAAEC,KAAK,CAAAJ,YAAA,CAALI,KAAK,CAAAC,kBAAA,CAAAL,YAAA,CAAEM,KAAK,CAALA,KAAK,CAAAD,kBAAA,UAAG,CAAC,CAAC,CAAAA,kBAAA,CAClC,GAAQ,CAAAE,YAAY,CAA6DD,KAAK,CAA9EC,YAAY,CAAEC,UAAU,CAAiDF,KAAK,CAAhEE,UAAU,CAAEC,WAAW,CAAoCH,KAAK,CAApDG,WAAW,CAAEC,IAAI,CAA8BJ,KAAK,CAAvCI,IAAI,CAAEC,UAAU,CAAkBL,KAAK,CAAjCK,UAAU,CAAEC,WAAW,CAAKN,KAAK,CAArBM,WAAW,CAE5E9B,SAAS,CAAC,UAAM,CACZiB,QAAQ,CAACV,eAAe,CAACQ,KAAK,CAACgB,MAAM,CAACC,EAAE,CAAC,CAAC,CAE1C,GAAIV,KAAK,CAAE,CACPN,KAAK,CAACM,KAAK,CAACA,KAAK,CAAC,CAClBL,QAAQ,CAACT,WAAW,EAAE,CAAC,CAC3B,CACJ,CAAC,CAAE,CAACS,QAAQ,CAAED,KAAK,CAAEM,KAAK,CAAEP,KAAK,CAACgB,MAAM,CAACC,EAAE,CAAC,CAAC,CAE7C,GAAM,CAAAC,eAAe,CAAGR,YAAY,KAAAS,MAAA,CAAOT,YAAY,CAACU,OAAO,OAAAD,MAAA,CAAKT,YAAY,CAACW,IAAI,OAAAF,MAAA,CAAKT,YAAY,CAACY,UAAU,OAAAH,MAAA,CAAKT,YAAY,CAACa,OAAO,CAAE,CAE5I,GAAM,CAAAC,MAAM,CAAGZ,WAAW,EAAIA,WAAW,CAACa,MAAM,GAAK,WAAW,CAAG,IAAI,CAAG,KAAK,CAE/E,mBACI5B,KAAA,CAACb,QAAQ,EAAA0C,QAAA,eACL/B,IAAA,CAACR,QAAQ,EAACwC,KAAK,CAAE,eAAgB,EAAG,CAEnCrB,OAAO,cAAGX,IAAA,CAACP,MAAM,IAAG,cACjBO,IAAA,CAACX,QAAQ,EAAA0C,QAAA,cACL/B,IAAA,QAAKiC,SAAS,CAAC,oCAAoC,CAAAF,QAAA,cAC/C7B,KAAA,QAAK+B,SAAS,CAAC,oCAAoC,CAAAF,QAAA,eAE/C7B,KAAA,OAAI+B,SAAS,CAAC,MAAM,CAAAF,QAAA,EAAC,UAAQ,CAACjB,KAAK,CAACoB,GAAG,GAAM,cAE7ClC,IAAA,OAAIiC,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAC,eAAa,EAAK,cACvC7B,KAAA,MAAA6B,QAAA,eAAG/B,IAAA,MAAA+B,QAAA,CAAG,OAAK,EAAI,IAAC,CAACb,IAAI,EAAIA,IAAI,CAACiB,IAAI,GAAK,cACvCjC,KAAA,MAAA6B,QAAA,eAAG/B,IAAA,MAAA+B,QAAA,CAAG,QAAM,EAAI,IAAC,CAAChB,YAAY,EAAIA,YAAY,CAACqB,OAAO,GAAK,cAC3DlC,KAAA,MAAG+B,SAAS,CAAC,MAAM,CAAAF,QAAA,eAAC/B,IAAA,MAAA+B,QAAA,CAAG,UAAQ,EAAI,CAACR,eAAe,GAAK,cACxDrB,KAAA,MAAA6B,QAAA,eAAG/B,IAAA,MAAA+B,QAAA,CAAG,SAAO,EAAI,IAAC,cAAA/B,IAAA,MAAGqC,KAAK,CAAC,WAAW,EAAK,IAAC,CAAClB,UAAU,GAAK,cAE5DnB,IAAA,SAAM,cAENA,IAAA,OAAIiC,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAC,SAAO,EAAK,cACjC/B,IAAA,MAAGiC,SAAS,CAAEJ,MAAM,CAAG,YAAY,CAAG,UAAW,CAAAE,QAAA,cAAC/B,IAAA,MAAA+B,QAAA,CAAIF,MAAM,CAAG,MAAM,CAAG,UAAU,EAAK,EAAI,cAG3F7B,IAAA,OAAIiC,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAC,eAAa,EAAK,cACvC/B,IAAA,MAAGiC,SAAS,CAAEnB,KAAK,CAACM,WAAW,EAAIkB,MAAM,CAACxB,KAAK,CAACM,WAAW,CAAC,CAACmB,QAAQ,CAAC,WAAW,CAAC,CAAG,YAAY,CAAG,UAAW,CAAAR,QAAA,cAAE/B,IAAA,MAAA+B,QAAA,CAAIX,WAAW,EAAK,EAAI,cAGzIpB,IAAA,OAAIiC,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAC,cAAY,EAAK,cAEtC/B,IAAA,SAAM,cACNA,IAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAC1Bf,UAAU,EAAIA,UAAU,CAACwB,GAAG,CAAC,SAAAC,IAAI,qBAC9BvC,KAAA,QAAwB+B,SAAS,CAAC,UAAU,CAAAF,QAAA,eACxC/B,IAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAF,QAAA,cAC3B/B,IAAA,QAAK0C,GAAG,CAAED,IAAI,CAACE,KAAM,CAACC,GAAG,CAAEH,IAAI,CAACN,IAAK,CAACU,MAAM,CAAC,IAAI,CAACC,KAAK,CAAC,IAAI,EAAG,EAC7D,cAEN9C,IAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAF,QAAA,cAC3B/B,IAAA,CAACT,IAAI,EAACwD,EAAE,cAAAvB,MAAA,CAAeiB,IAAI,CAACO,OAAO,CAAG,CAAAjB,QAAA,CAAEU,IAAI,CAACN,IAAI,EAAQ,EACvD,cAGNnC,IAAA,QAAKiC,SAAS,CAAC,6BAA6B,CAAAF,QAAA,cACxC7B,KAAA,MAAA6B,QAAA,eAAG/B,IAAA,MAAGqC,KAAK,CAAC,WAAW,EAAK,IAAC,CAACI,IAAI,CAACQ,KAAK,GAAK,EAC3C,cAENjD,IAAA,QAAKiC,SAAS,CAAC,6BAA6B,CAAAF,QAAA,cACxC7B,KAAA,MAAA6B,QAAA,EAAIU,IAAI,CAACS,QAAQ,CAAC,WAAS,GAAI,EAC7B,GAhBAT,IAAI,CAACO,OAAO,CAiBhB,EACT,CAAC,EACA,cACNhD,IAAA,SAAM,GACJ,EACJ,EAEb,GAEM,CAEnB,CAAC,CAED,cAAe,CAAAG,YAAY"},"metadata":{},"sourceType":"module"}