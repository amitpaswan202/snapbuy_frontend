{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import{MDBDataTable}from'mdbreact';import MetaData from'../layout/MetaData';import Loader from'../layout/Loader';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{myOrders,clearErrors}from'../../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListOrders=function ListOrders(){var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.myOrders;}),loading=_useSelector.loading,error=_useSelector.error,orders=_useSelector.orders;useEffect(function(){dispatch(myOrders());if(error){alert.error(error);dispatch(clearErrors());}},[dispatch,alert,error]);var setOrders=function setOrders(){var data={columns:[{label:'Order ID',field:'id',sort:'asc'},{label:'Num of Items',field:'numOfItems',sort:'asc'},{label:'Amount',field:'amount',sort:'asc'},{label:'Status',field:'status',sort:'asc'},{label:'Actions',field:'actions',sort:'asc'}],rows:[]};orders.forEach(function(order){data.rows.push({id:order._id,numOfItems:order.orderItems.length,amount:\"$\".concat(order.totalPrice),status:order.orderStatus&&String(order.orderStatus).includes('Delivered')?/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:order.orderStatus}):/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:order.orderStatus}),actions:/*#__PURE__*/_jsx(Link,{to:\"/order/\".concat(order._id),className:\"btn btn-primary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\"})})});});return data;};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'My Orders'}),/*#__PURE__*/_jsx(\"h1\",{className:\"my-5\",children:\"My Orders\"}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(MDBDataTable,{data:setOrders(),className:\"px-3\",bordered:true,striped:true,hover:true})]});};export default ListOrders;","map":{"version":3,"names":["React","Fragment","useEffect","Link","MDBDataTable","MetaData","Loader","useAlert","useDispatch","useSelector","myOrders","clearErrors","jsx","_jsx","jsxs","_jsxs","ListOrders","alert","dispatch","_useSelector","state","loading","error","orders","setOrders","data","columns","label","field","sort","rows","forEach","order","push","id","_id","numOfItems","orderItems","length","amount","concat","totalPrice","status","orderStatus","String","includes","style","color","children","actions","to","className","title","bordered","striped","hover"],"sources":["C:/Users/PC/Desktop/ffff/snapbuy/frontend/src/components/order/ListOrders.js"],"sourcesContent":["import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { myOrders, clearErrors } from '../../actions/orderActions'\r\n\r\nconst ListOrders = () => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, orders } = useSelector(state => state.myOrders);\r\n\r\n    useEffect(() => {\r\n        dispatch(myOrders());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n    }, [dispatch, alert, error])\r\n\r\n    const setOrders = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'Order ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Num of Items',\r\n                    field: 'numOfItems',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Amount',\r\n                    field: 'amount',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Status',\r\n                    field: 'status',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Actions',\r\n                    field: 'actions',\r\n                    sort: 'asc'\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        orders.forEach(order => {\r\n            data.rows.push({\r\n                id: order._id,\r\n                numOfItems: order.orderItems.length,\r\n                amount: `$${order.totalPrice}`,\r\n                status: order.orderStatus && String(order.orderStatus).includes('Delivered')\r\n                    ? <p style={{ color: 'green' }}>{order.orderStatus}</p>\r\n                    : <p style={{ color: 'red' }}>{order.orderStatus}</p>,\r\n                actions:\r\n                    <Link to={`/order/${order._id}`} className=\"btn btn-primary\">\r\n                        <i className=\"fa fa-eye\"></i>\r\n                    </Link>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'My Orders'} />\r\n\r\n            <h1 className=\"my-5\">My Orders</h1>\r\n\r\n            {loading ? <Loader /> : (\r\n                <MDBDataTable\r\n                    data={setOrders()}\r\n                    className=\"px-3\"\r\n                    bordered\r\n                    striped\r\n                    hover\r\n                />\r\n            )}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ListOrders\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}