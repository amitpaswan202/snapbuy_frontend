{"ast":null,"code":"import axios from 'axios';\nimport { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO, INCREAMENT_TO_QUANTITY, DECREAMENT_ITEM_QUANTITY } from '../constants/cartConstants';\nexport const addItemToCart = (id, quantity) => async (dispatch, getState) => {\n  const {\n    data\n  } = await axios.get(`/api/v1/product/${id}`);\n  dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      product: data.product._id,\n      name: data.product.name,\n      price: data.product.price,\n      image: data.product.images[0].url,\n      stock: data.product.stock,\n      quantity\n    }\n  });\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n};\nexport const removeItemFromCart = id => async (dispatch, getState) => {\n  dispatch({\n    type: REMOVE_ITEM_CART,\n    payload: id\n  });\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n};\nexport const saveShippingInfo = data => async dispatch => {\n  dispatch({\n    type: SAVE_SHIPPING_INFO,\n    payload: data\n  });\n  localStorage.setItem('shippingInfo', JSON.stringify(data));\n};\nexport const incrementItemQuantity = id => async (dispatch, getState) => {\n  const {\n    cartItems\n  } = getState().cart;\n  const itemIndex = cartItems.findIndex(item => item.product === id);\n  if (itemIndex !== -1) {\n    const updatedCartItems = [...cartItems];\n    updatedCartItems[itemIndex].quantity += 1;\n    dispatch({\n      type: INCREAMENT_TO_QUANTITY,\n      payload: updatedCartItems\n    });\n    localStorage.setItem('cartItems', JSON.stringify(updatedCartItems));\n  }\n};\nexport const decrementItemQuantity = id => async (dispatch, getState) => {\n  const {\n    cartItems\n  } = getState().cart;\n  const itemIndex = cartItems.findIndex(item => item.product === id);\n  if (itemIndex !== -1) {\n    const updatedCartItems = [...cartItems];\n    updatedCartItems[itemIndex].quantity -= 1;\n    dispatch({\n      type: DECREAMENT_ITEM_QUANTITY,\n      payload: updatedCartItems\n    });\n    localStorage.setItem('cartItems', JSON.stringify(updatedCartItems));\n  }\n};","map":{"version":3,"names":["axios","ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","INCREAMENT_TO_QUANTITY","DECREAMENT_ITEM_QUANTITY","addItemToCart","id","quantity","dispatch","getState","data","get","type","payload","product","_id","name","price","image","images","url","stock","localStorage","setItem","JSON","stringify","cart","cartItems","removeItemFromCart","saveShippingInfo","incrementItemQuantity","itemIndex","findIndex","item","updatedCartItems","decrementItemQuantity"],"sources":["C:/Users/PC/Desktop/ffff/snapbuy/frontend/src/actions/cartActions.js"],"sourcesContent":["import axios from 'axios';\r\nimport { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO, INCREAMENT_TO_QUANTITY, DECREAMENT_ITEM_QUANTITY } from '../constants/cartConstants';\r\n\r\nexport const addItemToCart = (id, quantity) => async (dispatch, getState) => {\r\n    const { data } = await axios.get(`/api/v1/product/${id}`);\r\n\r\n    dispatch({\r\n        type: ADD_TO_CART,\r\n        payload: {\r\n            product: data.product._id,\r\n            name: data.product.name,\r\n            price: data.product.price,\r\n            image: data.product.images[0].url,\r\n            stock: data.product.stock,\r\n            quantity,\r\n        },\r\n    });\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeItemFromCart = (id) => async (dispatch, getState) => {\r\n    dispatch({\r\n        type: REMOVE_ITEM_CART,\r\n        payload: id,\r\n    });\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingInfo = (data) => async (dispatch) => {\r\n    dispatch({\r\n        type: SAVE_SHIPPING_INFO,\r\n        payload: data,\r\n    });\r\n\r\n    localStorage.setItem('shippingInfo', JSON.stringify(data));\r\n};\r\n\r\nexport const incrementItemQuantity = (id) => async (dispatch, getState) => {\r\n    const { cartItems } = getState().cart;\r\n    const itemIndex = cartItems.findIndex((item) => item.product === id);\r\n\r\n    if (itemIndex !== -1) {\r\n        const updatedCartItems = [...cartItems];\r\n        updatedCartItems[itemIndex].quantity += 1;\r\n\r\n        dispatch({\r\n            type: INCREAMENT_TO_QUANTITY,\r\n            payload: updatedCartItems,\r\n        });\r\n\r\n        localStorage.setItem('cartItems', JSON.stringify(updatedCartItems));\r\n    }\r\n};\r\n\r\nexport const decrementItemQuantity = (id) => async (dispatch, getState) => {\r\n    const { cartItems } = getState().cart;\r\n    const itemIndex = cartItems.findIndex((item) => item.product === id);\r\n\r\n    if (itemIndex !== -1) {\r\n        const updatedCartItems = [...cartItems];\r\n        updatedCartItems[itemIndex].quantity -= 1;\r\n\r\n        dispatch({\r\n            type: DECREAMENT_ITEM_QUANTITY,\r\n            payload: updatedCartItems,\r\n        });\r\n\r\n        localStorage.setItem('cartItems', JSON.stringify(updatedCartItems));\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}